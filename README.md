# 酒宝公园 (JoyPark) 🎲

一个现代化的移动端游戏库，专为聚会和社交场景设计。

## 📱 游戏介绍

### 聊天破冰盲盒
- **四种辣度等级**：清汤 → 微辣 → 加麻加辣 → 盲盒
- **Tinder风格滑动操作**：左右滑动切换类型，点击获取新话题
- **智能防重复系统**：同类型问题不重复，直到用完所有问题
- **进度追踪**：实时显示当前类型已使用问题数量

## 🚀 快速开始

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

## 🏗️ 技术架构

- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **数据库**: Supabase
- **构建工具**: Vite
- **样式框架**: Tailwind CSS
- **触摸支持**: 原生 Touch Events

## 📁 项目结构

```
├── index.html              # 游戏库主页
├── drinking-game.html      # 喝酒话题游戏页面
├── src/lib/supabase.ts     # 数据库配置和API
├── images/                 # 游戏图片资源
├── supabase/              # 数据库架构文件
└── SETUP_GUIDE.md         # 详细设置指南
```

## ⚙️ 配置说明

1. 复制 `src/lib/supabase.ts` 中的配置
2. 替换为你的 Supabase 项目信息
3. 确保数据库表结构正确（参考 `supabase/` 目录）

## 🎯 主要功能

- **响应式设计**：完美适配手机端
- **数据库驱动**：支持动态内容管理
- **游戏详情模态框**：美观的游戏介绍界面
- **滑动交互**：流畅的用户体验
- **智能缓存**：优化加载性能
- **错误处理**：优雅的降级方案

## 📊 Analytics系统优化

为了解决iOS端兼容性问题，我们已经优化了分析系统：

- **无用户追踪**：移除了所有用户ID识别和localStorage依赖
- **纯前端计数**：事件仅在内存中统计，避免cookie兼容性问题
- **iOS兼容性**：解决了iOS Safari的localStorage和cookie限制
- **轻量级**：减少数据库依赖，提升加载速度
- **隐私友好**：完全无用户数据收集

这个改动特别解决了"破冰盲盒"功能在iOS端的加载问题。

## 📄 许可证

MIT License 